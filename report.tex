\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage{float}
\usepackage{booktabs}
\usepackage{longtable}

% Page setup
\geometry{margin=2.5cm}
\pagestyle{fancy}
\fancyhf{}
\rhead{\thepage}
\lhead{Ticketing System - Report}

% Code listing setup
\lstset{
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    frame=single,
    language=C,
    numbers=left,
    numberstyle=\tiny,
    showstringspaces=false,
    tabsize=2,
    backgroundcolor=\color{gray!10}
}

% Title formatting
\titleformat{\section}{\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\large\bfseries}{\thesubsection}{1em}{}

\begin{document}

% Title page
\begin{titlepage}
    \centering
    \vspace*{2cm}
    
    {\Huge\bfseries Online Ticketing System}\\[0.5cm]
    {\Large Project Report}\\[1.5cm]
    
    {\large Software Engineering}\\[0.5cm]
    {\large University [University Name]}\\[2cm]
    
    {\large Authors:}\\
    {\large [Student Names]}\\[1cm]
    
    {\large Professor:}\\
    {\large Leonel NÃ³brega}\\[2cm]
    
    {\large \today}
    
    \vfill
\end{titlepage}

\tableofcontents
\newpage

\section{Introduction}

\subsection{Project Description}

The Online Ticketing System (Ticksy) is a web application developed in ASP.NET Core that enables complete event management and online ticket sales. The system was designed to serve three main types of users: administrators, event organizers, and customers.

The platform offers an integrated solution that covers everything from event creation and management to ticket purchasing, payment processing, and user notifications. The system was developed following Clean Architecture principles and implements various design patterns to ensure code maintainability, scalability, and testability.

\subsection{Objectives and Features}

\subsubsection{Main Objectives}
\begin{itemize}
    \item Create an intuitive platform for event management
    \item Facilitate online ticket purchasing
    \item Implement an efficient notification system
    \item Ensure transaction security
    \item Provide different access levels according to user type
\end{itemize}

\subsubsection{Implemented Features}

\textbf{For Administrators:}
\begin{itemize}
    \item Administrative dashboard with system statistics
    \item User management (organizers and customers)
    \item Event and transaction supervision
    \item System parameter configuration
\end{itemize}

\textbf{For Organizers:}
\begin{itemize}
    \item Event creation and editing
    \item Capacity and pricing management
    \item Image upload for events
    \item Sales tracking and statistics
    \item Seat map management
\end{itemize}

\textbf{For Customers:}
\begin{itemize}
    \item Event browsing and search with advanced filters
    \item Filtering system by location, price, and date
    \item Event sorting by different criteria
    \item Ticket purchasing with seat selection
    \item Purchase history
    \item Personalized notification system
\end{itemize}

\section{Proposal Analysis}

\subsection{Requirements}

\subsubsection{Functional Requirements}
\begin{enumerate}
    \item \textbf{FR01 - User Management}
    \begin{itemize}
        \item The system must allow registration of different user types
        \item Must implement authentication and authorization
        \item Must manage user profiles
    \end{itemize}
    
    \item \textbf{FR02 - Event Management}
    \begin{itemize}
        \item Organizers must be able to create, edit, and delete events
        \item Events must have information such as title, description, date, location, price, and capacity
        \item Must support image upload
    \end{itemize}
    
    \item \textbf{FR03 - Ticketing System}
    \begin{itemize}
        \item Customers must be able to purchase tickets
        \item Must implement seat selection
        \item Must process payments
        \item Must generate digital tickets
    \end{itemize}
    
    \item \textbf{FR04 - Search and Filtering System}
    \begin{itemize}
        \item Must allow text search
        \item Must implement filters by location, price, and date
        \item Must allow sorting by different criteria
    \end{itemize}
    
    \item \textbf{FR05 - Notification System}
    \begin{itemize}
        \item Must notify users about relevant events
        \item Must allow configuration of notification preferences
        \item Must support different types of notifications
    \end{itemize}
\end{enumerate}

\subsubsection{Non-Functional Requirements}
\begin{enumerate}
    \item \textbf{NFR01 - Performance}
    \begin{itemize}
        \item The system must respond in less than 3 seconds
        \item Must support multiple simultaneous users
    \end{itemize}
    
    \item \textbf{NFR02 - Security}
    \begin{itemize}
        \item Sensitive data must be encrypted
        \item Must implement protection against common attacks
    \end{itemize}
    
    \item \textbf{NFR03 - Usability}
    \begin{itemize}
        \item Interface must be intuitive and responsive
        \item Must work on different devices
    \end{itemize}
    
    \item \textbf{NFR04 - Maintainability}
    \begin{itemize}
        \item Code must follow best practices
        \item Must implement appropriate design patterns
    \end{itemize}
\end{enumerate}

\subsection{Domain Model}

The system's domain model consists of the following main entities:

\subsubsection{Core Entities}

\textbf{User (Base User)}
\begin{itemize}
    \item Id: Unique identifier
    \item Email: User email
    \item PasswordHash: Password hash
    \item FirstName, LastName: User name
    \item CreatedAt: Creation date
\end{itemize}

\textbf{Administrator}
\begin{itemize}
    \item Inherits from User
    \item Role: Administrative role
    \item IsActive: Active status
\end{itemize}

\textbf{Organizer}
\begin{itemize}
    \item Inherits from User
    \item CompanyName: Company name
    \item ContactNumber: Contact number
    \item IsVerified: Verification status
\end{itemize}

\textbf{Customer}
\begin{itemize}
    \item Inherits from User
    \item DateOfBirth: Date of birth
    \item PhoneNumber: Phone number
    \item Address: Address
\end{itemize}

\textbf{Event}
\begin{itemize}
    \item Id: Unique identifier
    \item Title: Event title
    \item Description: Description
    \item StartDate, EndDate: Event dates
    \item Location: Location
    \item TicketPrice: Ticket price
    \item Capacity: Capacity
    \item ImageUrl: Image URL
    \item OrganizerId: Organizer reference
    \item IsActive: Active status
\end{itemize}

\textbf{Ticket}
\begin{itemize}
    \item Id: Unique identifier
    \item EventId: Event reference
    \item CustomerId: Customer reference
    \item SeatNumber: Seat number
    \item PurchaseDate: Purchase date
    \item Status: Ticket status
    \item QRCode: QR code
\end{itemize}

\textbf{Payment}
\begin{itemize}
    \item Id: Unique identifier
    \item TicketId: Ticket reference
    \item Amount: Amount
    \item PaymentMethod: Payment method
    \item TransactionId: Transaction ID
    \item Status: Payment status
    \item ProcessedAt: Processing date
\end{itemize}

\subsubsection{Relationships}
\begin{itemize}
    \item One Organizer can create multiple Events (1:N)
    \item One Event can have multiple Tickets (1:N)
    \item One Customer can purchase multiple Tickets (1:N)
    \item Each Ticket has an associated Payment (1:1)
    \item One Event can have one SeatMap (1:1)
    \item One Customer can have multiple NotificationPreferences (1:N)
\end{itemize}

\subsection{System Architecture}

The system was developed following Clean Architecture principles, organizing code into well-defined layers:

\subsubsection{Presentation Layer (TicketingSystem.Web)}
\begin{itemize}
    \item Razor Pages for web interface
    \item Controllers for APIs
    \item ViewModels for data transfer
    \item Middleware for request handling
\end{itemize}

\subsubsection{Application Layer (TicketingSystem.Application)}
\begin{itemize}
    \item Services for business logic
    \item DTOs for data transfer
    \item Interfaces for service contracts
    \item Handlers for commands and queries
\end{itemize}

\subsubsection{Domain Layer (TicketingSystem.Core)}
\begin{itemize}
    \item Entities with business rules
    \item Value Objects
    \item Domain Services
    \item Repository interfaces
\end{itemize}

\subsubsection{Infrastructure Layer (TicketingSystem.Infrastructure)}
\begin{itemize}
    \item Repository implementations
    \item Database context (Entity Framework)
    \item External services (email, payments)
    \item Persistence configurations
\end{itemize}

\section{Development}

\subsection{Module Decomposition}

The system was decomposed into the following main modules:

\subsubsection{Authentication and Authorization Module}
\begin{itemize}
    \item User session management
    \item Role-based access control
    \item Authentication middleware
\end{itemize}

\subsubsection{Event Management Module}
\begin{itemize}
    \item Event CRUD operations
    \item Image upload and management
    \item Advanced search and filtering system
    \item Event data validation
\end{itemize}

\subsubsection{Ticketing Module}
\begin{itemize}
    \item Ticket purchase process
    \item Seat and capacity management
    \item QR code generation
    \item Ticket validation
\end{itemize}

\subsubsection{Payment Module}
\begin{itemize}
    \item Transaction processing
    \item Payment gateway integration
    \item Payment status management
\end{itemize}

\subsubsection{Notification Module}
\begin{itemize}
    \item Email sending system
    \item User preference management
    \item Notification templates
\end{itemize}

\subsubsection{Administrative Module}
\begin{itemize}
    \item Dashboard with statistics
    \item User management
    \item System reports
\end{itemize}

\subsection{Implemented Design Patterns}

\subsubsection{Repository Pattern}
Implemented to abstract data access, allowing:
\begin{itemize}
    \item Decoupling between business logic and persistence
    \item Ease of unit testing
    \item Flexibility for persistence technology changes
\end{itemize}

\begin{lstlisting}[language=C, caption=Repository Pattern Example]
public interface IEventRepository
{
    Task<Event> GetByIdAsync(Guid id);
    Task<IEnumerable<Event>> GetAllAsync();
    Task<IEnumerable<Event>> SearchAsync(string searchTerm);
    Task AddAsync(Event entity);
    Task UpdateAsync(Event entity);
    Task DeleteAsync(Guid id);
}
\end{lstlisting}

\subsubsection{Service Layer Pattern}
Used to encapsulate business logic:
\begin{itemize}
    \item Clear separation between presentation and business
    \item Logic reuse across different interfaces
    \item Ease of maintenance
\end{itemize}

\subsubsection{Dependency Injection}
Implemented through ASP.NET Core's DI container:
\begin{itemize}
    \item Reduced coupling
    \item Ease of testing
    \item Automatic object lifecycle management
\end{itemize}

\subsubsection{Model-View-ViewModel (MVVM)}
Applied in Razor Pages:
\begin{itemize}
    \item Separation between presentation logic and interface
    \item Automatic data binding
    \item Model validation
\end{itemize}

\subsubsection{Strategy Pattern}
Used in the event filtering system:
\begin{itemize}
    \item Different filtering strategies (price, date, location)
    \item Extensibility for new filter types
    \item Cleaner and more organized code
\end{itemize}

\subsection{Other Development Considerations}

\subsubsection{Data Validation}
\begin{itemize}
    \item Data Annotations for model validation
    \item Custom validation for specific business rules
    \item Validation on both client and server side
\end{itemize}

\subsubsection{Error Handling}
\begin{itemize}
    \item Global middleware for exception capture
    \item Structured logging with different levels
    \item Custom error pages
\end{itemize}

\subsubsection{Security}
\begin{itemize}
    \item Password hashing with salt
    \item CSRF protection
    \item Input validation to prevent XSS
    \item Claims-based authorization
\end{itemize}

\subsubsection{Performance}
\begin{itemize}
    \item Lazy loading for related entities
    \item Caching of frequently accessed data
    \item Pagination for large lists
    \item Database query optimization
\end{itemize}

\section{Installation/Execution Guide}

\subsection{Git Repository}
The project source code is available at:
\begin{center}
\texttt{[Git repository URL]}
\end{center}

\subsection{Prerequisites}
\begin{itemize}
    \item .NET 6.0 SDK or higher
    \item SQL Server or SQL Server Express
    \item Visual Studio 2022 or Visual Studio Code
    \item Git for version control
\end{itemize}

\subsection{Installation Steps}

\subsubsection{1. Clone the Repository}
\begin{lstlisting}[language=bash]
git clone [REPOSITORY_URL]
cd TicketingSystem
\end{lstlisting}

\subsubsection{2. Configure the Database}
\begin{enumerate}
    \item Edit the \texttt{appsettings.json} file in the \texttt{TicketingSystem.Web} folder
    \item Configure the connection string for the database
    \item Run migrations:
\end{enumerate}

\begin{lstlisting}[language=bash]
dotnet ef database update --project TicketingSystem.Infrastructure 
--startup-project TicketingSystem.Web
\end{lstlisting}

\subsubsection{3. Restore Dependencies}
\begin{lstlisting}[language=bash]
dotnet restore
\end{lstlisting}

\subsubsection{4. Run the Application}
\begin{lstlisting}[language=bash]
cd TicketingSystem.Web
dotnet run
\end{lstlisting}

The application will be available at \texttt{https://localhost:5001}

\subsection{Test Users}

\subsubsection{Administrator}
\begin{itemize}
    \item \textbf{Email:} admin@ticksy.com
    \item \textbf{Password:} Admin123!
\end{itemize}

\subsubsection{Organizer}
\begin{itemize}
    \item \textbf{Email:} organizer@ticksy.com
    \item \textbf{Password:} Organizer123!
\end{itemize}

\subsubsection{Customer}
\begin{itemize}
    \item \textbf{Email:} customer@ticksy.com
    \item \textbf{Password:} Customer123!
\end{itemize}

\subsection{Additional Configurations}

\subsubsection{Email}
To test the notification system, configure SMTP settings in \texttt{appsettings.json}:

\begin{lstlisting}[language=json]
{
  "EmailSettings": {
    "SmtpServer": "smtp.gmail.com",
    "SmtpPort": 587,
    "SenderEmail": "your-email@gmail.com",
    "SenderPassword": "your-password"
  }
}
\end{lstlisting}

\subsubsection{Payments}
For payment testing, the system is configured to use a simulator that accepts any card with number \texttt{4111111111111111}.

\section{Usage Guide}

\subsection{System Access}

The system can be accessed through a web browser at \texttt{https://localhost:5001}. The home page displays featured events and navigation options.

\subsection{Features by User Type}

\subsubsection{For Customers}

\textbf{1. Registration and Login}
\begin{itemize}
    \item Access the registration page through the menu
    \item Fill in personal details
    \item Confirm email (if configured)
    \item Login with credentials
\end{itemize}

\textbf{2. Event Search and Filtering}
\begin{itemize}
    \item Use the search bar to find specific events
    \item Apply filters by:
    \begin{itemize}
        \item Location (dropdown with available locations)
        \item Price range (Free, \$0-25, \$25-50, \$50-100, \$100+)
        \item Date (Today, Tomorrow, This Week, This Month, Next Month)
    \end{itemize}
    \item Sort results by:
    \begin{itemize}
        \item Date (earliest first/latest first)
        \item Price (low to high/high to low)
        \item Name (A-Z/Z-A)
    \end{itemize}
\end{itemize}

\textbf{3. Ticket Purchase}
\begin{itemize}
    \item Select desired event
    \item View event details
    \item Choose ticket quantity
    \item Select seats (if applicable)
    \item Proceed to payment
    \item Receive email confirmation
\end{itemize}

\textbf{4. Profile Management}
\begin{itemize}
    \item Update personal information
    \item View purchase history
    \item Configure notification preferences
    \item Manage payment methods
\end{itemize}

\subsubsection{For Organizers}

\textbf{1. Event Management}
\begin{itemize}
    \item Access organizer dashboard
    \item Create new event with:
    \begin{itemize}
        \item Title and description
        \item Date and time
        \item Location
        \item Price and capacity
        \item Image upload
    \end{itemize}
    \item Edit existing events
    \item Activate/deactivate events
\end{itemize}

\textbf{2. Sales Tracking}
\begin{itemize}
    \item View sales statistics
    \item Participant list
    \item Revenue reports
    \item Available seat management
\end{itemize}

\textbf{3. Seat Management}
\begin{itemize}
    \item Configure seat map
    \item Define different seat types
    \item Manage pricing by section
\end{itemize}

\subsubsection{For Administrators}

\textbf{1. Administrative Dashboard}
\begin{itemize}
    \item System overview
    \item User statistics
    \item Event and sales metrics
    \item System alerts
\end{itemize}

\textbf{2. User Management}
\begin{itemize}
    \item List of all users
    \item Activate/deactivate accounts
    \item Verify organizers
    \item Manage permissions
\end{itemize}

\textbf{3. Event Supervision}
\begin{itemize}
    \item Approve/reject events
    \item Monitor activity
    \item Manage inappropriate content
\end{itemize}

\textbf{4. System Configuration}
\begin{itemize}
    \item Configure global parameters
    \item Manage email templates
    \item Configure payment methods
    \item Backup and maintenance
\end{itemize}

\subsection{Main Workflows}

\subsubsection{Ticket Purchase Flow}
\begin{enumerate}
    \item Customer searches for events
    \item Applies filters as needed
    \item Selects event of interest
    \item Views event details
    \item Chooses ticket quantity
    \item Selects seats (if applicable)
    \item Enters payment details
    \item Confirms purchase
    \item Receives digital ticket by email
\end{enumerate}

\subsubsection{Event Creation Flow}
\begin{enumerate}
    \item Organizer logs in
    \item Accesses dashboard
    \item Clicks "Create Event"
    \item Fills in event information
    \item Uploads image
    \item Configures prices and capacity
    \item Defines seat map (optional)
    \item Submits for approval
    \item Event becomes available after approval
\end{enumerate}

\section{Conclusions}

\subsection{Achieved Objectives}

The development of the Online Ticketing System (Ticksy) successfully achieved the proposed objectives:

\begin{itemize}
    \item \textbf{Complete Platform}: An integrated solution was developed covering the entire event lifecycle, from creation to ticket sales
    \item \textbf{Intuitive Interface}: The web interface is responsive and easy to use, providing a good user experience
    \item \textbf{Advanced Filtering System}: Implementation of filters by location, price, and date, with sorting by multiple criteria
    \item \textbf{Robust Architecture}: Application of Clean Architecture principles ensured well-structured and maintainable code
    \item \textbf{Security}: Implementation of adequate security measures to protect sensitive data
\end{itemize}

\subsection{Challenges Faced}

During development, various challenges were encountered:

\begin{itemize}
    \item \textbf{State Management}: Maintaining data consistency between different simultaneous operations
    \item \textbf{Performance}: Query optimization for large data volumes
    \item \textbf{Responsive Interface}: Ensuring the application works well on different devices
    \item \textbf{System Integration}: Coordination between different system modules
\end{itemize}

\subsection{Lessons Learned}

\begin{itemize}
    \item \textbf{Importance of Design}: Good architectural design significantly facilitates development and maintenance
    \item \textbf{Testing}: Implementing tests from the beginning would have saved time in bug detection
    \item \textbf{Documentation}: Keeping updated documentation is crucial for team projects
    \item \textbf{Design Patterns}: Correct application of patterns improves code quality
\end{itemize}

\subsection{Future Work}

For future versions of the system, the following improvements are suggested:

\begin{itemize}
    \item \textbf{Mobile Application}: Development of a native app for iOS and Android
    \item \textbf{Social Media Integration}: Allow event sharing and social login
    \item \textbf{Recommendation System}: Algorithm to suggest events based on user history
    \item \textbf{Advanced Analytics}: Dashboard with more detailed metrics for organizers
    \item \textbf{Public API}: Provide API for third-party system integration
    \item \textbf{Multi-language Support}: Application internationalization
    \item \textbf{Review System}: Allow customers to rate events
\end{itemize}

\subsection{Final Considerations}

The Online Ticketing System project represented an excellent opportunity to apply theoretical Software Engineering knowledge in a practical context. The implementation of design patterns, clean architecture, and development best practices resulted in a robust and scalable application.

The developed system demonstrates the importance of careful requirements analysis, well-thought design, and disciplined implementation. The implemented features meet the needs of different user types and provide a solid foundation for future expansions.

The experience gained during this project will be valuable for future developments, especially regarding complex project management, teamwork, and application of software development methodologies.

\end{document} 